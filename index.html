<!DOCTYPE html>

<script src="https://d3js.org/d3.v4.min.js"></script>

<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>RL time</title>
		<meta name="author" content="Piotr Grudzien" />
		<link href="css/theme.css" rel="stylesheet">
		<script src="js/utils.js" type="text/javascript"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	</head>

	<body>
		<script type="text/javascript">
			var time = Date.now();
			request = $.ajax({
				data : 'time=' + time,
				url : '/php/save.php',
				type : 'GET'
			});
		</script>
		<script type="text/javascript">
			const offset = window.innerHeight / 20;

			var svg = d3.select("body").append("svg").attr("class", "top-svg");
			svg.style("top", offset).style("left", offset);
			position_svg(window, svg, offset);

			var rect_colors = ["DeepSkyBlue"];
			var rect = svg.selectAll("rect").data(rect_colors).enter().append("rect");
			position_rect(svg, rect);
			rect.attr("fill", function(d) {
				return d;
			});

			var linkedin = svg.append("text").attr("class", "linkedin").attr("display", "none");
			position_linkedin(linkedin, rect);
			linkedin.text("linkedin/in/piotrgrudzien");
			//linkedin.attr("font-family", "monospace").attr("font-size", "15px").attr("display", "none");

			var email = svg.append("text").attr("class", "email").attr("display", "none");
			position_email(email, rect);
			email.text("piotr.szymon.grudzien@gmail.com");
			//email.attr("font-family", "monospace").attr("font-size", "15px").attr("display", "none");

			var author = svg.append("text").attr("class", "author");
			position_author(author, rect);
			author.text("Author: Piotr Grudzie\u0144");
			//author.attr("font-family", "monospace").attr("font-size", "20px");
			author.on("mouseover", function(event) {
				author.transition().attr("text-decoration", "underline");
				email.transition().attr("display", "inline");
				linkedin.transition().attr("display", "inline");
			});
			author.on("mouseout", function(event) {
				author.transition().attr("text-decoration", "none");
				email.transition().attr("display", "none");
				linkedin.transition().attr("display", "none");
			});

			window.onresize = function(event) {
				position_svg(window, svg, offset);
				position_rect(svg, rect);
				position_linkedin(linkedin, rect);
				position_email(email, rect);
				position_author(author, rect);
			};

		</script>
	</body>

	<!--Google Analytics-->
	<script >
		(function(i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] ||
			function() {
				(i[r].q = i[r].q || []).push(arguments)
			}, i[r].l = 1 * new Date();
			a = s.createElement(o),
			m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'UA-82431857-1', 'auto');
		ga('send', 'pageview');

	</script>
</html>
